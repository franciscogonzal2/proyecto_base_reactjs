<div *ngIf="generalError" class="general-container-error">
	<app-error-loading [errMsj]="generalErrorMsj"></app-error-loading>
</div>

<div *ngIf="!generalError" class="general-container">

	<app-loading *ngIf="loading"></app-loading>

	<div *ngFor="let contacto of contactoData">
		<div class="main-banner">
			<div *ngIf="!loading" class="banner animated fadeIn"
				[ngStyle]="{'background-image':'url(' + contacto.contactoContent.backgroundImage + ')'}"></div>
		</div>

		<div *ngIf="!loading" class="container">
			<div class="row">
				<div class="col-12">
					<div *ngIf="showC; else generalTitle">
						<div *ngIf="showP; else msjNoValido">
							<h1 [innerHTML]="contacto.contactoContent.tituloMensajeOkPacks"></h1><br />
							<p [innerHTML]="contacto.contactoContent.mensajeOkPacks" class="lead intro"></p>
						</div>
					</div>

					<ng-template #msjNoValido>
						<h1 [innerHTML]="contacto.contactoContent.tituloMensajeErrorPacks"></h1><br />
						<p [innerHTML]="contacto.contactoContent.mensajeErrorPacks" class="lead intro"></p>
					</ng-template>

					<ng-template #generalTitle>
						<h1 [innerHTML]="contacto.contactoContent.titulo"></h1><br />
						<p [innerHTML]="contacto.contactoContent.subTitulo" class="lead intro"></p>
					</ng-template>
				</div>
			</div>

			<div class="row">
				<div class="col-12 col-lg-10">
					<div class="contenido_gen">
						<div class="row">
							<div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4">
								<div class="img_content">
									<img class="img-fluid" [src]="contacto.leftSection.imgSection" alt="Contacto" />
								</div>
							</div>
							<div class="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8">
								<h4 [innerHTML]="contacto.leftSection.titulo"></h4>
								<div [innerHTML]="contacto.leftSection.info"></div>

								<div class="myForm">
									<div *ngFor="let response of contactoDataRequest">
										<div [ngClass]="errorClass" role="alert">
											<button type="button" class="close" data-dismiss="alert"
												aria-label="Close"><span aria-hidden="true">&times;</span></button>
											<div><strong>Well done!</strong></div>
											<div>{{response.message}}</div>
										</div>
									</div>

									<form [formGroup]="myForm" (ngSubmit)="saveData()" id="myForm" novalidate>
										<div class="form-group">
											<div class="input-group">
												<div class="input-group-prepend">
													<div class="input-group-text form_ico bg-transparent"><i
															class="far fa-address-book" aria-hidden="true"></i></div>
												</div>
												<input type="text" class="form-control" formControlName="nombre"
													value=""
													[placeholder]="contacto.formContacto.inputName.placeholder" />
											</div>
											<div class="error_content"
												*ngIf="myForm.get('nombre').errors && (myForm.get('nombre').dirty || myForm.get('nombre').touched); else ok_name">
												<div *ngIf="myForm.get('nombre').hasError('required')"
													[innerHTML]="contacto.formContacto.inputName.required_text"></div>
												<div class="error_text">
													<span class="text-danger"><i
															[ngClass]="contacto.formContacto.error_icon"
															aria-hidden="true"></i></span>
												</div>
											</div>
											<ng-template #ok_name>
												<div class="ok_text" *ngIf="!myForm.get('nombre').hasError('required')">
													<span class="text-success"><i
															[ngClass]="contacto.formContacto.ok_icon"
															aria-hidden="true"></i></span>
												</div>
											</ng-template>
										</div>

										<div class="form-group">
											<div class="input-group">
												<div class="input-group-prepend">
													<div class="input-group-text form_ico bg-transparent"><i
															class="far fa-envelope" aria-hidden="true"></i></div>
												</div>
												<input type="text" class="form-control" formControlName="correo"
													value=""
													[placeholder]="contacto.formContacto.inputEmail.placeholder" />
											</div>
											<div class="error_content"
												*ngIf="myForm.get('correo').errors && (myForm.get('correo').dirty || myForm.get('correo').touched); else ok_email">
												<div *ngIf="myForm.get('correo').hasError('required')"
													[innerHTML]="contacto.formContacto.inputEmail.required_text"></div>
												<div *ngIf="myForm.get('correo').hasError('pattern')"
													[innerHTML]="contacto.formContacto.inputEmail.wrong_text"></div>
												<div class="error_text">
													<span class="text-danger"><i
															[ngClass]="contacto.formContacto.error_icon"
															aria-hidden="true"></i></span>
												</div>
											</div>
											<ng-template #ok_email>
												<div class="ok_text"
													*ngIf="!myForm.get('correo').hasError('required') && !myForm.get('correo').hasError('pattern')">
													<span class="text-success"><i
															[ngClass]="contacto.formContacto.ok_icon"
															aria-hidden="true"></i></span>
												</div>
											</ng-template>
										</div>

										<div class="form-group">
											<div class="input-group">
												<div class="input-group-prepend">
													<div class="input-group-text form_ico bg-transparent"><i
															class="fas fa-phone" aria-hidden="true"></i></div>
												</div>
												<input type="text" class="form-control" formControlName="telefono"
													value=""
													[placeholder]="contacto.formContacto.inputTel.placeholder" />
											</div>
											<div class="error_content"
												*ngIf="myForm.get('telefono').errors && (myForm.get('telefono').dirty || myForm.get('telefono').touched); else ok_tel">
												<div *ngIf="myForm.get('telefono').hasError('required')"
													[innerHTML]="contacto.formContacto.inputTel.required_text"></div>
												<div *ngIf="myForm.get('telefono').hasError('pattern')"
													[innerHTML]="contacto.formContacto.inputTel.wrong_text"></div>
												<div class="error_text">
													<span class="text-danger"><i
															[ngClass]="contacto.formContacto.error_icon"
															aria-hidden="true"></i></span>
												</div>
											</div>
											<ng-template #ok_tel>
												<div class="ok_text"
													*ngIf="!myForm.get('telefono').hasError('required') && !myForm.get('telefono').hasError('pattern')">
													<span class="text-success"><i
															[ngClass]="contacto.formContacto.ok_icon"
															aria-hidden="true"></i></span>
												</div>
											</ng-template>
										</div>

										<div class="form-group">
											<div class="input-group">
												<div class="input-group-prepend">
													<div class="input-group-text form_ico bg-transparent"><i
															class="far fa-file-alt" aria-hidden="true"></i></div>
												</div>
												<textarea type="text" rows="6" class="form-control"
													formControlName="mensaje" value=""
													[placeholder]="contacto.formContacto.inputMensaje.placeholder"></textarea>
											</div>
											<div class="error_content"
												*ngIf="myForm.get('mensaje').errors && (myForm.get('mensaje').dirty || myForm.get('mensaje').touched); else ok_msj">
												<div *ngIf="myForm.get('mensaje').hasError('required')"
													[innerHTML]="contacto.formContacto.inputMensaje.required_text">
												</div>
												<div class="error_text">
													<span class="text-danger"><i
															[ngClass]="contacto.formContacto.error_icon"
															aria-hidden="true"></i></span>
												</div>
											</div>
											<ng-template #ok_msj>
												<div class="ok_text"
													*ngIf="!myForm.get('mensaje').hasError('required')">
													<span class="text-success"><i
															[ngClass]="contacto.formContacto.ok_icon"
															aria-hidden="true"></i></span>
												</div>
											</ng-template>
										</div>

										<div class="row">
											<div class="col">
												<button type="button" (click)="gotoHome()"
													[innerHTML]="contacto.formContacto.cancel_button"
													onclick="topFunction()"
													class="btn btn-lg btn-outline-secondary w-100"></button>
											</div>
											<div class="col d-none d-sm-block">
												<button type="button" (click)="resetForm()"
													[innerHTML]="contacto.formContacto.reset_button"
													onclick="topFunction(500)"
													class="btn btn-lg btn-outline-secondary w-100"></button>
											</div>
											<div class="col-6">
												<button type="submit" [disabled]="myForm.invalid"
													[innerHTML]="contacto.formContacto.save_button"
													class="btn btn-lg btn-success w-100"></button>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>